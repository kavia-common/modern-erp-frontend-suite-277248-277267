{"is_source_file": true, "format": "JavaScript", "description": "This source file is a JavaScript module that provides a centralized API client for an ERP frontend application. It includes functions for constructing URLs based on environment variables, making HTTP requests with fetch, error handling, and convenience methods for GET, POST, PUT, and DELETE operations. The file facilitates interaction with a backend API, managing configurations and request logic centrally.", "external_files": ["fetch", "window.location", "process.env"], "external_methods": ["fetch"], "published": ["getApiBaseUrl", "buildUrl", "apiRequest", "getJson", "postJson", "putJson", "deleteJson"], "classes": [], "methods": [{"name": "getApiBaseUrl()", "description": "Determines the API base URL from environment variables or defaults to window.location.origin if in a browser environment.", "scope": "", "scopeKind": ""}, {"name": "buildUrl(path)", "description": "Builds a complete URL for API requests by joining the base URL with a provided path.", "scope": "", "scopeKind": ""}, {"name": "apiRequest(path, options = {})", "description": "Performs a fetch request with default headers, error handling, and JSON parsing, handling network errors and non-2xx responses.", "scope": "", "scopeKind": ""}, {"name": "getJson(path, params)", "description": "Performs a GET request with optional query parameters, returning parsed JSON data.", "scope": "", "scopeKind": ""}, {"name": "postJson(path, body)", "description": "Performs a POST request with a JSON body.", "scope": "", "scopeKind": ""}, {"name": "putJson(path, body)", "description": "Performs a PUT request with a JSON body.", "scope": "", "scopeKind": ""}, {"name": "deleteJson(path)", "description": "Performs a DELETE request.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "getApiBaseUrl", "buildUrl", "apiRequest", "getJson", "postJson", "putJson", "deleteJson"], "search-terms": ["apiClient", "fetch wrapper", "ERP frontend API", "environment variable URL", "JavaScript API request"], "state": 2, "file_id": 78, "knowledge_revision": 169, "git_revision": "", "ctags": [{"_type": "tag", "name": "Accept", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^    Accept: \"application\\/json\",$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.defaultHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^export async function apiRequest(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^    body: hasBody && typeof options.body !== \"string\" ? JSON.stringify(options.body) : options.b/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.safeOptions", "scopeKind": "class"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^export function buildUrl(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}, {"_type": "tag", "name": "credentials", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^    credentials: \"include\", \\/\\/ allow cookies if backend uses them$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.safeOptions", "scopeKind": "class"}, {"_type": "tag", "name": "defaultHeaders", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^  const defaultHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "apiRequest", "scopeKind": "class"}, {"_type": "tag", "name": "deleteJson", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^export async function deleteJson(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^export function getApiBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getJson", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^export async function getJson(path, params) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, params)"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^    headers: mergedHeaders,$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.safeOptions", "scopeKind": "class"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^    method: options.method || \"GET\",$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.safeOptions", "scopeKind": "class"}, {"_type": "tag", "name": "mode", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^    mode: \"cors\",$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.safeOptions", "scopeKind": "class"}, {"_type": "tag", "name": "postJson", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^export async function postJson(path, body) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, body)"}, {"_type": "tag", "name": "putJson", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^export async function putJson(path, body) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, body)"}, {"_type": "tag", "name": "safeOptions", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^  const safeOptions = {$/", "language": "JavaScript", "kind": "class", "scope": "apiRequest", "scopeKind": "class"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/modern-erp-frontend-suite-277248-277267/erp_frontend/src/services/apiClient.js", "pattern": "/^    err.details = { url, message: String(networkErr?.message || networkErr) };$/", "language": "JavaScript", "kind": "field", "scope": "err.details", "scopeKind": "class"}], "hash": "71f5e249700109a7784435ded480db5f", "format-version": 4, "code-base-name": "erp_frontend", "filename": "erp_frontend/src/services/apiClient.js", "fields": [{"name": "Accept: \"application\\/json\",", "scope": "apiRequest.defaultHeaders", "scopeKind": "class", "description": "unavailable"}, {"name": "body: hasBody && typeof options.body !== \"string\" ? JSON.stringify(options.body) : options.b/", "scope": "apiRequest.safeOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "credentials: \"include\", \\/\\/ allow cookies if backend uses them", "scope": "apiRequest.safeOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "headers: mergedHeaders,", "scope": "apiRequest.safeOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "method: options.method || \"GET\",", "scope": "apiRequest.safeOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "mode: \"cors\",", "scope": "apiRequest.safeOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "err.details = { url, message: String(networkErr?.message || networkErr) };", "scope": "err.details", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"169": ""}]}